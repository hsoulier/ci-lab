name: Build
description: Execute build for Cypress or Deploy to Firebase Hosting

inputs:
  env:
    description: "Environment to run build"
    required: true
    default: "dev"

runs:
  using: composite
  steps:
    - name: Debug values
      run: |
        echo "Secret 1: $SECRET1"
        echo "Secret 2: $SECRET2"
        echo "${{ inputs.env == 'prod' && $($SECRET1) || $($SECRET2) }}"
      shell: bash
    - name: ðŸšš Build
      run: yarn build
      env:
        TEST: ${{ inputs.env == 'prod' && $($SECRET1) || $($SECRET2) }}
      shell: bash
